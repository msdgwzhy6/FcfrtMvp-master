# FcfrtMvp
FcfrtMvp+RxHttp+RxJavaï¼ˆKotlinå’ŒJAVAå…±ç”¨å®Œç¾æ”¯æŒï¼‰æ”¯æŒä¸€é”®åˆ›å»ºMVPé¡¹ç›®ï¼Œæ¡†æ¶ç®€çº¦é£æ ¼åŠè¯¦ç»†æ³¨é‡Šï¼Œå¹¶äºåŸºäºRxokHttpåšä¸ºè¯·æ±‚æ¡†æ¶å°è£…ï¼Œä¸€æ¡é“¾å°±èƒ½å‘é€ä»»æ„è¯·æ±‚ï¼Œä¸»è¦ä¼˜åŠ¿å¦‚ä¸‹ :

  **1. ä¸€é”®åˆ›å»ºMvpé¡¹ç›®ï¼Œè§£å†³å¤šä¸ªæ–‡ä»¶åˆ›å»ºåˆ†ä¸åˆ°å¤´è„‘çš„é—®é¢˜**
  
  **2. è¯¥æ¡†æ¶åªåšä¸ºä¸€ä¸ªåŸºç¡€æ¡†æ¶ï¼Œæ–¹ä¾¿å¼€å‘å·¥ç¨‹å¸ˆå¯æ ¹æ®è‡ªå·±çš„é¡¹ç›®ä»»æ„æ‰©å±•ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡**
 
  **3. æ”¯æŒJsonã€DOMç­‰ä»»æ„æ•°æ®è§£ææ–¹å¼ï¼Œå¯è‡ªå®šä¹‰æ•°æ®è§£æå™¨**
  
  **4. æ”¯æŒGetã€Postã€Putã€Deleteç­‰ä»»æ„è¯·æ±‚æ–¹å¼ï¼Œå¯è‡ªå®šä¹‰è¯·æ±‚æ–¹å¼**
  
  **5. æ”¯æŒåœ¨Activity/Fragment/View/ViewModel/ä»»æ„ç±»ä¸­ï¼Œè‡ªåŠ¨å…³é—­è¯·æ±‚**
  
  **6. æ”¯æŒç»Ÿä¸€åŠ è§£å¯†ï¼Œä¸”å¯å¯¹å•ä¸ªè¯·æ±‚è®¾ç½®æ˜¯å¦åŠ è§£å¯†**
  
  **7. æ”¯æŒæ·»åŠ å…¬å…±å‚æ•°/å¤´éƒ¨ï¼Œä¸”å¯å¯¹å•ä¸ªè¯·æ±‚è®¾ç½®æ˜¯å¦æ·»åŠ å…¬å…±å‚æ•°/å¤´éƒ¨**
  
  **8. å²ä¸Šæœ€ä¼˜é›…çš„å®ç°æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½åŠè¿›åº¦çš„ç›‘å¬ï¼Œä¸”æ”¯æŒæ–­ç‚¹ä¸‹è½½**
  
  **9. å²ä¸Šæœ€ä¼˜é›…çš„å¯¹é”™è¯¯ç»Ÿä¸€å¤„ç†ï¼Œä¸”ä¸æ‰“ç ´Lambdaè¡¨è¾¾å¼**
  
  **10. å²ä¸Šæœ€ä¼˜é›…çš„å¤„ç†å¤šä¸ªBaseUrlåŠåŠ¨æ€BaseUrl**
  
  **11. 30ç§’å³å¯ä¸Šæ‰‹ï¼Œå­¦ä¹ æˆæœ¬æä½**

## å‰è¨€
ç”±äºæœ¬äººæ–‡å­—åŠŸåº•ä¸æ€ä¹ˆæ ·å°±ä¸è¿‡å¤šä»‹ç»å¦‚æœæœ‰ä¸æ‡‚çš„æ¬¢è¿è¿›ç¾¤æé—®ï¼Œå¦‚æœè§‰å¾—è¯¥æ¡†æ¶å¯ä»¥çš„è¯ç»™ä¸€ä¸ªä½ å®è´µçš„StarğŸ™ï¼Œåœ¨æ­¤éå¸¸æ„Ÿè°¢RxHttpä½œè€…çš„å¤§åŠ›æ”¯æŒã€‚


## å‡†å¤‡å·¥ä½œ

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æŠŠæ¡†æ¶æ¨¡ç‰ˆä¸­çš„FcfrtMvpActivityæ¡†æ¶æ¨¡æ¿å¤åˆ¶åœ¨Android Studio å®‰è£…åŒ…ä¸‹é¢çš„\plugins\android\lib\templates\activities\ä¸‹

æ­¤æ—¶é‡èµ·ä¸€ä¸‹Android studioå³å¯




## æ¥ä¸‹æ¥å¯¼å…¥æˆ‘ä»¬æä¾›çš„demoä¸­çš„æ ¹åŒ…åå¤„ç‚¹å‡»new->Activity->FcfrtMvp

![image](https://github.com/FCFRT/FcfrtMvp-master/blob/master/img/åˆ›å»ºActivity.png)

å¦‚å›¾ç‚¹å‡»åï¼Œå°±ä¼šå‡ºç°å¦‚ä¸‹å›¾æ‰€ç¤ºæ›´å…·è‡ªå·±çš„æ‰€éœ€åç§°åŠå†…å®¹å¡«å†™å³å¯ï¼š

![image](https://github.com/FCFRT/FcfrtMvp-master/blob/master/img/åˆ›å»ºActivity2.png)


## FcfrtMvpæ¡†æ¶æ—¶è¯­è¨€çš„é€‰æ‹©

å¦‚ä¸Šå›¾æ‰€ç¤ºåªéœ€è¦åšä¸‹æ–¹é€‰æ‹©Kotlinæˆ–è€…Javaå³å¯ å‡å¯ä»¥å®Œç¾é€‚é…ä¸¤ç§è¯­è¨€ã€‚

## FcfrtMvpå¸ƒå±€è§„èŒƒ
ä¼ ç»Ÿå¸ƒå±€æ˜¯è¿™æ ·çš„
**ä¼ ç»Ÿå¸ƒå±€å±æ€§ç”¨æ–¹æ³•**
```java
<androidx.constraintlayout.widget.ConstraintLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/colorPrimaryDark">
         <TextView
            android:id="@+id/tv_txt"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintLeft_toLeftOf="parent"
            app:layout_constraintRight_toRightOf="parent"
            app:layout_constraintBottom_toBottomOf="parent"
            android:gravity="center_vertical|center_horizontal"
            android:text="FcfrtMvpæ”¯æŒä¸€é”®åˆ›å»ºMVPæ¡†æ¶ã€‚"
            android:textSize="20dp"/>
</androidx.constraintlayout.widget.ConstraintLayout>
```
**ä½¿ç”¨FcfrtMvpå**
```java
<androidx.constraintlayout.widget.ConstraintLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        style="@style/w_match_h_match"
        android:background="@color/colorPrimaryDark">
         <TextView
            android:id="@+id/tv_txt"
           style="@style/w_match_h_match"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintLeft_toLeftOf="parent"
            app:layout_constraintRight_toRightOf="parent"
            app:layout_constraintBottom_toBottomOf="parent"
            android:gravity="center_vertical|center_horizontal"
            android:text="FcfrtMvpæ”¯æŒä¸€é”®åˆ›å»ºMVPæ¡†æ¶ã€‚"
            android:textSize="@dimen/font_size_40px"/>
</androidx.constraintlayout.widget.ConstraintLayout>
```
æˆ‘ä»¬åœ¨æ¡†æ¶ç±»åŠ å…¥äº†å¸ƒå±€æ ·å¼åŠå°ºå¯¸åƒç´ å’Œå­—ä½“å¤§å°æ¨¡æ¿ï¼Œè®©ä»£ç æ›´æ•´æ´ï¼Œå¼€å‘æ•ˆç‡æ›´é«˜ï¼Œä¾‹å¦‚ï¼š
å­—ä½“å¤§å°è®¾ç½®ï¼šandroid:textSize="@dimen/font_size_40px" ä»£è¡¨å­—ä½“ï¼š20sp
å¸ƒå±€å·¦è¾¹è·ï¼šandroid:layout_marginLeft="@dimen/space_20"ä»£è¡¨å·¦è¾¹è·ï¼š10dp

**ä½¿ç”¨FcfrtMvpæ¡†æ¶ä¸­çš„æƒé™ä¸€å¥è¯æå®š**
```java
 FcfrtPermissionsUtil.requestPermission(this,object :FcfrtPermissionListener{
                /**
                 * é€šè¿‡æˆæƒ
                 * @param permission
                 */
                override fun permissionGranted(permission: Array<out String>) {
                    showToast("æˆæƒæˆåŠŸ")
                }

                /**
                 * æ‹’ç»æˆæƒ
                 * @param permission
                 */
                override fun permissionDenied(permission: Array<out String>) {
                    showToast("æˆæƒå¤±è´¥")
                }
            },*FcfrtPermission.Group.STORAGE)
```
**ä½¿ç”¨FcfrtMvpæ¡†æ¶ä¸­çš„æƒé™é…ç½®ç±»**
```java
object FcfrtPermission {

    const val REQUEST_INSTALL_PACKAGES = "android.permission.REQUEST_INSTALL_PACKAGES" // 8.0åŠä»¥ä¸Šåº”ç”¨å®‰è£…æƒé™

    const val SYSTEM_ALERT_WINDOW = "android.permission.SYSTEM_ALERT_WINDOW" // 6.0åŠä»¥ä¸Šæ‚¬æµ®çª—æƒé™

    const val READ_CALENDAR = "android.permission.READ_CALENDAR" // è¯»å–æ—¥ç¨‹æé†’
    const val WRITE_CALENDAR = "android.permission.WRITE_CALENDAR" // å†™å…¥æ—¥ç¨‹æé†’

    const val CAMERA = "android.permission.CAMERA" // æ‹ç…§æƒé™

    const val READ_CONTACTS = "android.permission.READ_CONTACTS" // è¯»å–è”ç³»äºº
    const val WRITE_CONTACTS = "android.permission.WRITE_CONTACTS" // å†™å…¥è”ç³»äºº
    const val GET_ACCOUNTS = "android.permission.GET_ACCOUNTS" // è®¿é—®è´¦æˆ·åˆ—è¡¨

    const val ACCESS_FINE_LOCATION = "android.permission.ACCESS_FINE_LOCATION" // è·å–ç²¾ç¡®ä½ç½®
    const val ACCESS_COARSE_LOCATION = "android.permission.ACCESS_COARSE_LOCATION" // è·å–ç²—ç•¥ä½ç½®

    const val RECORD_AUDIO = "android.permission.RECORD_AUDIO" // å½•éŸ³æƒé™

    const  val READ_PHONE_STATE = "android.permission.READ_PHONE_STATE" // è¯»å–ç”µè¯çŠ¶æ€
    const val CALL_PHONE = "android.permission.CALL_PHONE" // æ‹¨æ‰“ç”µè¯
    const val READ_CALL_LOG = "android.permission.READ_CALL_LOG" // è¯»å–é€šè¯è®°å½•
    const val WRITE_CALL_LOG = "android.permission.WRITE_CALL_LOG" // å†™å…¥é€šè¯è®°å½•
    const val ADD_VOICEMAIL = "com.android.voicemail.permission.ADD_VOICEMAIL" // æ·»åŠ è¯­éŸ³é‚®ä»¶
    const val USE_SIP = "android.permission.USE_SIP" // ä½¿ç”¨SIPè§†é¢‘
    const val PROCESS_OUTGOING_CALLS = "android.permission.PROCESS_OUTGOING_CALLS" // å¤„ç†æ‹¨å‡ºç”µè¯
    const val ANSWER_PHONE_CALLS ="android.permission.ANSWER_PHONE_CALLS"// 8.0å±é™©æƒé™ï¼šå…è®¸æ‚¨çš„åº”ç”¨é€šè¿‡ç¼–ç¨‹æ–¹å¼æ¥å¬å‘¼å…¥ç”µè¯ã€‚è¦åœ¨æ‚¨çš„åº”ç”¨ä¸­å¤„ç†å‘¼å…¥ç”µè¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ acceptRingingCall() å‡½æ•°
    const val READ_PHONE_NUMBERS = "android.permission.READ_PHONE_NUMBERS"// 8.0å±é™©æƒé™ï¼šæƒé™å…è®¸æ‚¨çš„åº”ç”¨è¯»å–è®¾å¤‡ä¸­å­˜å‚¨çš„ç”µè¯å·ç 

    const val BODY_SENSORS = "android.permission.BODY_SENSORS" // ä¼ æ„Ÿå™¨

    const val SEND_SMS = "android.permission.SEND_SMS" // å‘é€çŸ­ä¿¡
    const val RECEIVE_SMS = "android.permission.RECEIVE_SMS" // æ¥æ”¶çŸ­ä¿¡
    const val READ_SMS = "android.permission.READ_SMS" // è¯»å–çŸ­ä¿¡
    const val RECEIVE_WAP_PUSH = "android.permission.RECEIVE_WAP_PUSH" // æ¥æ”¶WAP PUSHä¿¡æ¯
    const val RECEIVE_MMS = "android.permission.RECEIVE_MMS" // æ¥æ”¶å½©ä¿¡

    const val READ_EXTERNAL_STORAGE = "android.permission.READ_EXTERNAL_STORAGE" // è¯»å–å¤–éƒ¨å­˜å‚¨
    const val WRITE_EXTERNAL_STORAGE = "android.permission.WRITE_EXTERNAL_STORAGE" // å†™å…¥å¤–éƒ¨å­˜å‚¨

    const val RECEIVE_BOOT_COMPLETED ="android.permission.RECEIVE_BOOT_COMPLETED"//å¼€æœºå¯åŠ¨æƒé™

    object Group {

        // æ—¥å†
        val CALENDAR = arrayOf(READ_CALENDAR, WRITE_CALENDAR)

        // è”ç³»äºº
        val CONTACTS = arrayOf(READ_CONTACTS, WRITE_CONTACTS, GET_ACCOUNTS)

        // ä½ç½®
        val LOCATION = arrayOf(ACCESS_FINE_LOCATION, ACCESS_COARSE_LOCATION)

        // å­˜å‚¨
        val STORAGE = arrayOf( READ_PHONE_STATE, READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE )
    }
}
```
## å…¶ä»–æ•™ç¨‹

**[RxHttpè¯¦ç»†ä½¿ç”¨æ•™ç¨‹](https://github.com/liujingxing/RxHttp)**









